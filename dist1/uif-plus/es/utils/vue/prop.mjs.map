{"version":3,"file":"prop.mjs","sources":["../../../../../packages/utils/vue/prop.js"],"sourcesContent":["import {inArray} from '../array'\r\nimport {unobservable} from './unobservable'\r\n\r\nfunction getDefault (value, def) {\r\n  return value !== undefined ? value : def\r\n}\r\n\r\nconst prop = unobservable({\r\n  /**\r\n   * 规则 -> String\r\n   * @param   defaultValue {*?}        默认值 ''\r\n   */\r\n  string (defaultValue) {\r\n    return {\r\n      type: String,\r\n      default: getDefault(defaultValue, '')\r\n    }\r\n  },\r\n  /**\r\n   * 规则 -> Number\r\n   * @param   defaultValue {*?}        默认值 0\r\n   */\r\n  number (defaultValue) {\r\n    return {\r\n      type: Number,\r\n      default: getDefault(defaultValue, 0)\r\n    }\r\n  },\r\n  /**\r\n   * 规则 -> String | Number\r\n   * @param   defaultValue {*?}        默认值 ''\r\n   */\r\n  stringNumber (defaultValue) {\r\n    return {\r\n      type: [String, Number],\r\n      default: getDefault(defaultValue, '')\r\n    }\r\n  },\r\n  /**\r\n   * 规则 -> String | Array\r\n   * @param   defaultValue {*?}        默认值 ''\r\n   */\r\n  stringArray (defaultValue) {\r\n    return {\r\n      type: [String, Array],\r\n      default: getDefault(defaultValue, '')\r\n    }\r\n  },\r\n  /**\r\n   * 规则 -> Boolean\r\n   * @param   defaultValue {*?}        默认值 false\r\n   */\r\n  boolean (defaultValue) {\r\n    return {\r\n      type: Boolean,\r\n      default: getDefault(defaultValue, false)\r\n    }\r\n  },\r\n  /**\r\n   * 规则 -> Object\r\n   * @param   defaultValue {*?}        默认值 {}\r\n   */\r\n  object (defaultValue) {\r\n    return {\r\n      type: Object,\r\n      default: getDefault(defaultValue, () => ({}))\r\n    }\r\n  },\r\n  /**\r\n   * 规则 -> Array\r\n   * @param   defaultValue {*?}        默认值 []\r\n   */\r\n  array (defaultValue) {\r\n    return {\r\n      type: Array,\r\n      default: getDefault(defaultValue, () => ([]))\r\n    }\r\n  },\r\n  /**\r\n   * 规则 -> Function\r\n   * @param   defaultValue {*?}        默认值 () => {}\r\n   */\r\n  function (defaultValue) {\r\n    return {\r\n      type: Function,\r\n      default: getDefault(defaultValue, () => {})\r\n    }\r\n  },\r\n  /**\r\n   * 自定义规则 -> 在数组内\r\n   * @param   array  {Array}          参考数组\r\n   * @param   defaultValue {*?}        默认值\r\n   * @param   allowFalse {Boolean?}   允许空\r\n   */\r\n  inArray (array, defaultValue, allowFalse) {\r\n    return {\r\n      validator (value) {\r\n        return (allowFalse && !value) || inArray(array, value)\r\n      },\r\n      default: defaultValue\r\n    }\r\n  },\r\n  /**\r\n   * 自定义规则 -> popper placement\r\n   * @param   defaultValue {*?}        默认值\r\n   */\r\n  placement (defaultValue) {\r\n    return prop.inArray([\r\n      'auto', 'auto-start', 'auto-end',\r\n      'top', 'top-start', 'top-end', 'bottom', 'bottom-start', 'bottom-end',\r\n      'right', 'right-start', 'right-end', 'left', 'left-start', 'left-end'\r\n    ], getDefault(defaultValue, 'auto-start'))\r\n  },\r\n  /**\r\n   * 自定义规则 -> builder\r\n   */\r\n  builder () {\r\n    return {\r\n      type: [String, Function],\r\n      default: ''\r\n    }\r\n  }\r\n})\r\n\r\nexport {prop}\r\n"],"names":[],"mappings":"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"}